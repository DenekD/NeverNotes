(this["webpackJsonpmui-notes"]=this["webpackJsonpmui-notes"]||[]).push([[0],{347:function(e,t,n){},541:function(e,t,n){"use strict";n.r(t);var r=n(26),a=n(1),c=n.n(a),i=n(67),s=n.n(i),o=(n(347),n(15)),u=n(611),l=n(634),j=n(637),b=n(612),d=n(635),O=n(636),h=n(633),f=n(312),x=n.n(f),p=n(313),g=n.n(p),v=n(639),m=n(640),C=n(164),E=n.n(C),y=n(310),w=n.n(y),N=n(309),k=n.n(N),S=n(315),R=n.n(S),I=n(314),T=n.n(I),_=n(4),F=n(11),A=n(631),D=n(627),P=240,W=function(e){return{width:P,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},L=function(e){return Object(_.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(9)," + 1px)")})},U=Object(F.a)("div")((function(e){var t=e.theme;return Object(r.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1)},t.mixins.toolbar)})),G=Object(F.a)(A.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(r.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:P,width:"calc(100% - ".concat(P,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),z=Object(F.a)(D.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(r.a)(Object(r.a)({width:P,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(r.a)(Object(r.a)({},W(t)),{},{"& .MuiDrawer-paper":W(t)})),!n&&Object(r.a)(Object(r.a)({},L(t)),{},{"& .MuiDrawer-paper":L(t)}))})),B=n(609),H=n(629),J=n(638),M=n(30),q=n(28),K=n(0),V=n.n(K),X=n(5),Z=n(92),Y=n(12),Q=n(626),$=n(623),ee=n(3),te=function(){var e=Object(q.c)((function(e){return e.ui})),t=e.isNotificationOpen,n=e.notificationMessage,r=e.severity,a=Object(q.b)(),c=function(e,t){a({type:"CLOSE_NOTIFICATION",reason:t})};return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)(Q.a,{open:t,autoHideDuration:4e3,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(ee.jsx)($.a,{onClose:c,severity:r,sx:{width:"100%"},children:n})})})},ne=n.p+"static/media/hippo-av.e3454bb0.png",re=n(40),ae=n(610),ce=[{text:"My Notes",icon:Object(ee.jsx)(B.a,{color:"success"}),path:"/"},{text:"Logout",icon:Object(ee.jsx)(k.a,{color:"success"}),path:""}],ie=[{text:"Sign In",icon:Object(ee.jsx)(w.a,{color:"success"}),path:"/signIn"},{text:"Sign Up",icon:Object(ee.jsx)(E.a,{color:"success"}),path:"/signUp"}],se=["All","todos","money","work"];function oe(e){var t=e.children,n=Object(M.h)(),c=Object(M.g)(),i=Object(q.b)(),s=Object(q.c)((function(e){return e.firebase.auth})),f=Object(q.c)((function(e){return e.firebase.profile})),p=Object(re.a)(),C=Object(ae.a)(p.breakpoints.up("sm")),E=Object(q.c)((function(e){return e.ui.tagClicked})),y=Object(a.useState)(C),w=Object(o.a)(y,2),N=w[0],k=w[1];Object(a.useEffect)((function(){k(C)}),[C]);var S=s.uid?ce:ie,I=s.uid?se:null;return Object(ee.jsxs)(u.a,{sx:{display:"flex"},children:[Object(ee.jsx)(b.a,{}),Object(ee.jsx)(G,{position:"fixed",open:N,color:"success",children:Object(ee.jsxs)(l.a,{children:[Object(ee.jsx)(h.a,{color:"inherit","aria-label":"open drawer",onClick:function(){k(!0)},edge:"start",sx:Object(r.a)({marginRight:"36px"},N&&{display:"none"}),children:Object(ee.jsx)(x.a,{})}),Object(ee.jsx)(H.a,{sx:{mx:1},src:ne}),Object(ee.jsx)(d.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"NeverNote"}),Object(ee.jsx)(H.a,{sx:{ml:1},children:f.initials})]})}),Object(ee.jsxs)(z,{variant:"permanent",open:N,children:[Object(ee.jsx)(U,{children:Object(ee.jsx)(h.a,{onClick:function(){k(!1)},children:Object(ee.jsx)(g.a,{})})}),Object(ee.jsx)(O.a,{}),Object(ee.jsx)(j.a,{children:S.map((function(e){return Object(ee.jsxs)(J.a,{sx:n.pathname===e.path?{backgroundColor:"#f4f4f4"}:null,onClick:"Logout"===e.text?function(){return i((function(e,t,n){n.getFirebase;var r=Object(Z.b)();Object(Z.d)(r).then((function(){e({type:"SIGNOUT_SUCCESS"})})).catch((function(e){}))}))}:function(){return c.push(e.path)},children:[Object(ee.jsx)(v.a,{children:e.icon}),Object(ee.jsx)(m.a,{primary:e.text})]},e.text)}))}),Object(ee.jsx)(O.a,{}),Object(ee.jsx)(j.a,{children:I&&I.map((function(e){return Object(ee.jsxs)(J.a,{sx:E&&E===e?{backgroundColor:"#f4f4f4"}:null,onClick:function(){i({type:"TAG_CLICKED",tag:e})},children:[Object(ee.jsx)(v.a,{children:E&&E===e?Object(ee.jsx)(T.a,{}):Object(ee.jsx)(R.a,{})}),Object(ee.jsx)(m.a,{primary:e})]},e)}))})]}),Object(ee.jsxs)(u.a,{component:"main",sx:{flexGrow:1,p:3,backgroundColor:"#f9f9f9",minHeight:"100vh"},children:[Object(ee.jsx)(U,{id:"back-to-top-anchor"}),Object(ee.jsx)(te,{}),t]})]})}var ue=n(221),le=n(38),je=n(651),be=n(316),de=n(318),Oe=n.n(de),he=n(616),fe=n(641),xe=n(642),pe=n(643),ge=n(644),ve=n(630),me=n(620),Ce=n(613),Ee=n(91),ye=n(614),we=n(90),Ne=n(622),ke=n(615),Se=Object(Ne.a)({avatar:{color:function(e){return"work"===e.category?Ce.a[700]:"money"===e.category?Ee.a[500]:"todos"===e.category?ye.a[500]:we.a[500]}}});function Re(e){var t=e.note,n=e.onDelete,r=e.handleClickOpen,c=e.handleClickOpenCoopDialog,i=Se(t),s=Object(a.useState)(0),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)(!1),O=Object(o.a)(b,2),f=O[0],x=O[1];return Object(ee.jsxs)(fe.a,{elevation:l,onMouseEnter:function(){j(1),x(!0)},onMouseLeave:function(){j(0),x(!1)},sx:{minHeight:200,border:"1px #E0E0E0 solid",display:"flex",flexDirection:"column",textAlign:"left"},children:[Object(ee.jsxs)(ke.a,{onClick:function(){return r({title:t.title,content:t.content,id:t.id,sharedWith:t.sharedWith})},sx:{cursor:"pointer",flexGrow:1},children:[Object(ee.jsx)(xe.a,{title:t.title,subheader:t.sharedWith&&"wsp\xf3\u0142praca z ".concat(t.sharedWith),subheaderTypographyProps:{variant:"subtitle2"}}),Object(ee.jsx)(pe.a,{sx:{flexGrow:1},children:Object(ee.jsx)(d.a,{variant:"body2",color:"text.secondary",children:t.content})})]}),f&&Object(ee.jsxs)(ge.a,{children:[Object(ee.jsx)(ve.a,{label:t.category,variant:"outlined",className:i.avatar,sx:{mr:"auto"}}),!t.sharedWith&&Object(ee.jsx)(me.a,{title:"dodaj wsp\xf3\u0142pracownika",children:Object(ee.jsx)(h.a,{onClick:function(){return c(t)},children:Object(ee.jsx)(E.a,{})})}),Object(ee.jsx)(me.a,{title:"usu\u0144",children:Object(ee.jsx)(h.a,{onClick:function(){return n(t.id,t.sharedWith)},children:Object(ee.jsx)(he.a,{})})})]})]})}var Ie=n(618),Te=n(617);var _e=function(e){var t=e.children,n=Object(Te.a)({disableHysteresis:!0,threshold:100});return Object(ee.jsx)(Ie.a,{in:n,children:Object(ee.jsx)(ke.a,{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",sx:{position:"fixed",bottom:16,right:16},children:t})})},Fe=function(e,t){return function(){var n=Object(X.a)(V.a.mark((function n(r,a,c){var i,s,o,u,l,j;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.getFirebase,i=c.getFirestore,s=i(),o=a().firebase.auth.uid,u=a().firebase.auth.email,l=!!t,j=function(){var n=Object(X.a)(V.a.mark((function n(){return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!l){n.next=7;break}return n.next=3,Object(Y.B)(Object(Y.E)(s,"sharedNotes/".concat(u,"/sharedNotes"),e));case 3:return n.next=5,Object(Y.B)(Object(Y.E)(s,"sharedNotes/".concat(t,"/sharedNotes"),e));case 5:n.next=9;break;case 7:return n.next=9,Object(Y.B)(Object(Y.E)(s,"notes/".concat(o,"/notes"),e));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=6,n.next=9,j();case 9:r({type:"DELETE_PROJECT",id:e}),r({type:"OPEN_NOTIFICATION",message:"note was deleted"}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(6),r({type:"DELETE_PROJECT_ERROR",err:n.t0});case 16:case"end":return n.stop()}}),n,null,[[6,13]])})));return function(e,t,r){return n.apply(this,arguments)}}()},Ae=n(645),De=n(647),Pe=n(646),We=n(621),Le=n(317),Ue=n.n(Le);function Ge(e){var t=e.open,n=e.handleClose,r=e.details,c=Object(a.useState)(r.content),i=Object(o.a)(c,2),s=i[0],u=i[1],l=Object(q.b)();Object(a.useEffect)((function(){u(r.content)}),[r.content]),Object(a.useEffect)((function(){var e=setTimeout((function(){var e,t,n;l((e=r.id,t=s,n=r.sharedWith,function(){var r=Object(X.a)(V.a.mark((function r(a,c,i){var s,o,u,l,j;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.getFirebase,s=i.getFirestore,o=s(),u=c().firebase.auth.uid,l=c().firebase.auth.email,e){r.next=6;break}return r.abrupt("return");case 6:return j=function(){var r=Object(X.a)(V.a.mark((function r(){var a,c,i;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=9;break}return a=Object(Y.E)(o,"sharedNotes/".concat(l,"/sharedNotes"),e),c=Object(Y.E)(o,"sharedNotes/".concat(n,"/sharedNotes"),e),r.next=5,Object(Y.lb)(a,{content:t});case 5:return r.next=7,Object(Y.lb)(c,{content:t});case 7:r.next=12;break;case 9:return i=Object(Y.E)(o,"notes/".concat(u,"/notes"),e),r.next=12,Object(Y.lb)(i,{content:t});case 12:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),r.prev=7,r.next=10,j();case 10:a({type:"UPDATE_NOTE",id:e}),a({type:"OPEN_NOTIFICATION",message:"note was updated"}),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(7),a({type:"UPDATE_NOTE_ERROR",err:r.t0});case 17:case"end":return r.stop()}}),r,null,[[7,14]])})));return function(e,t,n){return r.apply(this,arguments)}}()))}),900);return function(){return clearTimeout(e)}}),[s,l,r.id,r.sharedWith]);return Object(ee.jsx)("div",{children:Object(ee.jsxs)(Ae.a,{open:t,fullWidth:!0,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ee.jsxs)(Pe.a,{id:"alert-dialog-title",sx:{display:"flex"},children:[Object(ee.jsx)(d.a,{variant:"p",sx:{flexGrow:1},children:r.title}),Object(ee.jsx)(h.a,{onClick:n,children:Object(ee.jsx)(Ue.a,{})})]}),Object(ee.jsx)(De.a,{dividers:!0,children:Object(ee.jsx)(We.a,{id:"outlined-multiline-flexible",multiline:!0,value:s,variant:"standard",fullWidth:!0,onChange:function(e){u(e.target.value)}})})]})})}var ze=n(650),Be=n(649);function He(e){var t=e.open,n=e.handleClose,r=e.handleEnter,c=a.useState(""),i=Object(o.a)(c,2),s=i[0],u=i[1];return Object(ee.jsx)("div",{children:Object(ee.jsxs)(Ae.a,{open:t,onClose:n,children:[Object(ee.jsx)(Pe.a,{children:"Enter user email wich you want to share this note"}),Object(ee.jsx)(De.a,{children:Object(ee.jsx)(We.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,variant:"standard",value:s,onChange:function(e){u(e.target.value)}})}),Object(ee.jsxs)(Be.a,{children:[Object(ee.jsx)(ze.a,{onClick:n,children:"Cancel"}),Object(ee.jsx)(ze.a,{onClick:function(){return r(s)},children:"Add Email"})]})]})})}function Je(e){var t=e.notes,n=e.sharedNotes,i=Object(q.b)(),s=Object(q.c)((function(e){return e.ui.tagClicked})),u=c.a.useState(!1),l=Object(o.a)(u,2),j=l[0],b=l[1],d=c.a.useState({}),O=Object(o.a)(d,2),h=O[0],f=O[1],x=function(e){b(!0),f(e)},p=c.a.useState(!1),g=Object(o.a)(p,2),v=g[0],m=g[1],C=c.a.useState(0),E=Object(o.a)(C,2),y=E[0],w=E[1],N=function(e){m(!0),w(e)},k=function(){var e=Object(X.a)(V.a.mark((function e(t,n){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Fe(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(ee.jsxs)(a.Fragment,{children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(be.a,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:[t&&t.map((function(e){return"All"===s||s===e.category?Object(ee.jsx)("div",{children:Object(ee.jsx)(Re,{note:e,onDelete:k,handleClickOpen:x,handleClickOpenCoopDialog:N})},e.id):null})),n&&n.map((function(e){return"All"===s||s===e.category?Object(ee.jsx)("div",{children:Object(ee.jsx)(Re,{note:e,onDelete:k,handleClickOpen:x,handleClickOpenCoopDialog:N})},e.id):null}))]}),Object(ee.jsx)(Ge,{handleClose:function(){b(!1),f({})},open:j,details:h}),Object(ee.jsx)(He,{open:v,handleClose:function(e){m(!1)},handleEnter:function(e){i(function(e,t){return function(){var n=Object(X.a)(V.a.mark((function n(a,c,i){var s,o,u,l,j;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.getFirebase,s=i.getFirestore,o=s(),u=c().firebase.auth.uid,l=c().firebase.auth.email,j=function(){var n=Object(X.a)(V.a.mark((function n(){var a,c;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Object(r.a)(Object(r.a)({},e),{},{sharedWith:t}),n.next=3,Object(Y.gb)(Object(Y.E)(o,"sharedNotes/".concat(l,"/sharedNotes"),e.id),a);case 3:return c=Object(r.a)(Object(r.a)({},e),{},{sharedWith:l}),n.next=6,Object(Y.gb)(Object(Y.E)(o,"sharedNotes/".concat(t,"/sharedNotes"),e.id),c);case 6:return n.next=8,Object(Y.B)(Object(Y.E)(o,"notes/".concat(u,"/notes"),e.id));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=5,n.next=8,j();case 8:a({type:"SHARED_PROJECT",id:e.id}),a({type:"OPEN_NOTIFICATION",message:"note is shareing with ".concat(t)}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),a({type:"SHARED_PROJECT_ERROR",err:n.t0});case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t,r){return n.apply(this,arguments)}}()}(y,e)),m(!1)}})]}),Object(ee.jsx)(_e,{children:Object(ee.jsx)(je.a,{color:"secondary",size:"small",children:Object(ee.jsx)(Oe.a,{})})})]})}var Me=n(608),qe=n(619),Ke=function(e){var t=e.closeHandler,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(""),u=Object(o.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)("todos"),d=Object(o.a)(b,2),O=d[0],h=d[1];return Object(ee.jsx)(Me.a,{onClickAway:function(){return t(c,l,O)},children:Object(ee.jsx)(ke.a,{sx:{display:"inline-block",minHeight:150,width:{sm:"90%",md:"60%"},mx:"auto",mb:2},children:Object(ee.jsxs)(fe.a,{elevation:2,children:[Object(ee.jsxs)(ke.a,{sx:{p:1},children:[Object(ee.jsx)(We.a,{fullWidth:!0,id:"fullWidth",placeholder:"Tytu\u0142",value:c,onChange:function(e){return i(e.target.value)},variant:"outlined",sx:{mb:1}}),Object(ee.jsx)(We.a,{fullWidth:!0,id:"fullWidth",placeholder:"Utw\xf3rz notatk\u0119...",value:l,variant:"outlined",onChange:function(e){return j(e.target.value)},multiline:!0,rows:3})]}),Object(ee.jsxs)(ge.a,{children:[Object(ee.jsxs)(qe.a,{direction:"row",spacing:1,sx:{mr:"auto"},children:[Object(ee.jsx)(ve.a,{label:"todos",variant:"todos"===O?"filled":"outlined",onClick:function(){return h("todos")}}),Object(ee.jsx)(ve.a,{label:"work",variant:"work"===O?"filled":"outlined",onClick:function(){return h("work")}}),Object(ee.jsx)(ve.a,{label:"money",variant:"money"===O?"filled":"outlined",onClick:function(){return h("money")}})]}),Object(ee.jsx)(ze.a,{onClick:function(){return t(c,l,O)},variant:"text",children:"Zamknij"})]})]})})})},Ve=function(e){var t=e.clickHandler;return Object(ee.jsx)(ke.a,{sx:{width:{sm:"90%",md:"60%"},maxWidth:"100%",marginLeft:"auto",marginRight:"auto",marginBottom:2},children:Object(ee.jsx)(fe.a,{elevation:2,children:Object(ee.jsx)(We.a,{fullWidth:!0,id:"fullWidth",placeholder:"Utw\xf3rz notatk\u0119...",onClick:t,variant:"outlined"})})})},Xe=function(){var e=Object(q.b)(),t=Object(q.c)((function(e){return e.firebase.auth.uid})),n=Object(q.c)((function(e){return e.firebase.auth.email}));Object(le.useFirestoreConnect)([{collection:"notes",doc:t,subcollections:[{collection:"notes"}],storeAs:"UserNotes",orderBy:["createdAt","desc"]}]),Object(le.useFirestoreConnect)([{collection:"sharedNotes",doc:n,subcollections:[{collection:"sharedNotes"}],storeAs:"NotesSharedByOtherUsers"}]);var a=Object(q.c)((function(e){return e.firestore.ordered.UserNotes})),i=Object(q.c)((function(e){return e.firestore.ordered.NotesSharedByOtherUsers})),s=c.a.useState(!1),u=Object(o.a)(s,2),l=u[0],j=u[1];return console.log(l),Object(ee.jsxs)(ke.a,{sx:{textAlign:"center"},children:[l?Object(ee.jsx)(Ke,{closeHandler:function(t,n,a){var c;j(!1),""!==t&&e((c={title:t,content:n,category:a},function(){var e=Object(X.a)(V.a.mark((function e(t,n,a){var i,s,o,u,l,j;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.getFirebase,i=a.getFirestore,s=i(),o=n().firebase.auth.uid,u=n().firebase.profile,l=Object(r.a)(Object(r.a)({},c),{},{authorFirtsName:u.firstName,authorLastName:u.lastName,authorId:o,createdAt:new Date}),j=function(){var e=Object(X.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(Y.y)(s,"notes/".concat(o,"/notes")),e.next=3,Object(Y.u)(t,l);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=6,e.next=9,j();case 9:t({type:"CREATE_PROJECT",note:c}),t({type:"OPEN_NOTIFICATION",message:"note was created"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),t({type:"CREATE_PROJECT_ERROR",err:e.t0});case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n,r){return e.apply(this,arguments)}}()))}}):Object(ee.jsx)(Ve,{clickHandler:function(){j(!0)}}),Object(ee.jsx)(Je,{notes:a,sharedNotes:i})]})},Ze=n(652),Ye=n(648),Qe=n(166),$e=n.n(Qe),et=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),i=Object(o.a)(c,2),s=i[0],u=i[1],l=Object(a.useState)(),j=Object(o.a)(l,2),b=j[0],O=j[1],h=Object(a.useState)(),f=Object(o.a)(h,2),x=f[0],p=f[1],g=Object(q.b)(),v=Object(q.c)((function(e){return e.auth.authError})),m=Object(q.c)((function(e){return e.firebase.auth}));if(Object(le.isLoaded)(m)&&!Object(le.isEmpty)(m))return Object(ee.jsx)(M.a,{to:"/"});var C=function(e){var t;(e.preventDefault(),p(!1),O(!1),""!==n)?""!==s?g((t={email:n,password:s},function(e,n,r){r.getFirebase;var a=Object(Z.b)();Object(Z.c)(a,t.email,t.password).then((function(t){e({type:"LOGIN_SUCCESS",auth:a})})).catch((function(t){e({type:"LOGIN_ERROR",error:t})}))})):p(!0):O(!0)};return Object(ee.jsxs)(Ze.a,{sx:{textAlign:"center"},children:[Object(ee.jsx)(d.a,{variant:"h4",color:"green",align:"center",gutterBottom:!0,children:"Zaloguj sie"}),Object(ee.jsxs)(Ye.a,{autoComplete:"off",size:"medium",onSubmit:C,sx:{width:{xs:"100%",md:"60%"}},children:[Object(ee.jsx)(We.a,{margin:"normal",required:!0,fullWidth:!0,variant:"outlined",label:"email",color:"secondary",onChange:function(e){return r(e.target.value)},error:b}),Object(ee.jsx)(We.a,{margin:"normal",required:!0,fullWidth:!0,color:"info",variant:"outlined",type:"password",label:"password",onChange:function(e){return u(e.target.value)},error:x}),Object(ee.jsx)(ze.a,{type:"submit",variant:"contained",size:"large",color:"success",onClick:C,sx:{mx:"auto",mt:2},endIcon:Object(ee.jsx)($e.a,{}),children:"zaloguj sie"}),Object(ee.jsx)("div",{className:"",children:v?Object(ee.jsx)("p",{children:v}):null})]})]})},tt=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),i=Object(o.a)(c,2),s=i[0],u=i[1],l=Object(a.useState)(),j=Object(o.a)(l,2),b=j[0],O=j[1],h=Object(a.useState)(),f=Object(o.a)(h,2),x=f[0],p=f[1],g=Object(a.useState)(),v=Object(o.a)(g,2),m=v[0],C=v[1],E=Object(a.useState)(),y=Object(o.a)(E,2),w=y[0],N=y[1],k=Object(a.useState)(),S=Object(o.a)(k,2),R=S[0],I=S[1],T=Object(a.useState)(),_=Object(o.a)(T,2),F=_[0],A=_[1],D=Object(q.b)(),P=Object(q.c)((function(e){return e.auth.authError})),W=Object(q.c)((function(e){return e.firebase.auth}));if(Object(le.isLoaded)(W)&&!Object(le.isEmpty)(W))return Object(ee.jsx)(M.a,{to:"/"});var L=function(e){var t;(e.preventDefault(),N(!1),C(!1),""!==n)?""!==s?""!==b?""!==x?D((t={email:n,password:s,firstName:b,lastName:x},function(){var e=Object(X.a)(V.a.mark((function e(n,r,a){var c,i,s,o,u;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.getFirebase,c=a.getFirestore,i=Object(Z.b)(),s=c(),o={firstName:t.firstName,lastName:t.lastName,initials:t.firstName[0]+t.lastName[0]},u=function(){var e=Object(X.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.a)(i,t.email,t.password);case 2:return n=e.sent,e.next=5,Object(Y.gb)(Object(Y.E)(s,"users",n.user.uid),o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=5,e.next=8,u();case 8:n({type:"SIGNUP_SUCCESS"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0),n({type:"SIGNUP_ERROR",error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n,r){return e.apply(this,arguments)}}())):A(!0):I(!0):N(!0):C(!0)};return Object(ee.jsxs)(Ze.a,{children:[Object(ee.jsx)(d.a,{variant:"h4",color:"green",align:"center",gutterBottom:!0,children:"Zarerejestruj si\u0119"}),Object(ee.jsxs)(Ye.a,{noValidate:!0,autoComplete:"off",onSubmit:L,sx:{width:{xs:"100%",md:"60%"}},children:[Object(ee.jsx)(We.a,{margin:"normal",required:!0,fullWidth:!0,variant:"outlined",label:"email",color:"secondary",onChange:function(e){return r(e.target.value)},error:m}),Object(ee.jsx)(We.a,{margin:"normal",required:!0,fullWidth:!0,type:"password",color:"info",variant:"outlined",label:"password",onChange:function(e){return u(e.target.value)},error:w}),Object(ee.jsx)(We.a,{margin:"normal",required:!0,fullWidth:!0,color:"info",variant:"outlined",label:"first name",onChange:function(e){return O(e.target.value)},error:R}),Object(ee.jsx)(We.a,{margin:"normal",required:!0,fullWidth:!0,color:"info",variant:"outlined",label:"last name",onChange:function(e){return p(e.target.value)},error:F}),Object(ee.jsx)(ze.a,{type:"submit",variant:"contained",size:"large",color:"success",sx:{mx:"auto",mt:2},endIcon:Object(ee.jsx)($e.a,{}),onClick:L,children:"zarejestruj si\u0119"}),Object(ee.jsx)("div",{className:"",children:P?Object(ee.jsx)("p",{children:P}):null})]})]})},nt=n(320);function rt(e){var t=e.children,n=Object(nt.a)(e,["children"]),a=Object(q.c)((function(e){return e.firebase.auth}));return Object(ee.jsx)(M.b,Object(r.a)(Object(r.a)({},n),{},{render:function(e){var n=e.location;return Object(le.isLoaded)(a)&&!Object(le.isEmpty)(a)?t:Object(ee.jsx)(M.a,{to:{pathname:"/signin",state:{from:n}}})}}))}var at=function(){return Object(ee.jsx)("div",{children:Object(ee.jsx)(ue.a,{basename:"/NeverNotes",children:Object(ee.jsx)(oe,{children:Object(ee.jsxs)(M.d,{children:[Object(ee.jsx)(rt,{exact:!0,path:"/",children:Object(ee.jsx)(Xe,{})}),Object(ee.jsx)(M.b,{path:"/signin",children:Object(ee.jsx)(et,{})}),Object(ee.jsx)(M.b,{path:"/signUp",children:Object(ee.jsx)(tt,{})})]})})})})},ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,654)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},it=n(319),st=n(111),ot=n(167),ut=n(130);n(542),n(539);ut.a.initializeApp({apiKey:"AIzaSyBtaBbT1xIkal1_wfVxDRDvK7llkXLK1cY",authDomain:"nevernotes-5e85a.firebaseapp.com",projectId:"nevernotes-5e85a",storageBucket:"nevernotes-5e85a.appspot.com",messagingSenderId:"307099732542",appId:"1:307099732542:web:c2e377fb2bb5f64880df6f"}),ut.a.firestore();var lt={authError:null},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(r.a)(Object(r.a)({},e),{},{authError:"login faild"});case"LOGIN_SUCCESS":return console.log("login success"),Object(r.a)(Object(r.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout successful"),{state:e};case"SIGNUP_SUCCESS":return console.log("signup successful"),Object(r.a)(Object(r.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(r.a)(Object(r.a)({},e),{},{authError:t.error.message});default:return e}},bt={},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_NOTE":return console.log("created note",t.project),e;case"CREATE_NOTE_ERROR":return console.log("b\u0142ad w note action w async operation",t.err),e;case"SHARED_PROJECT":return console.log("note is shared"),e;case"UPDATE_NOTE":return console.log("note is updated"),e;case"DELETE_PROJECT":return console.log("note deleted",t.id),e;case"DELETE_PROJECT_ERROR":return console.log("deleting note faild",t.err),e;default:return e}},Ot={isNotificationOpen:!1,notificationMessage:"",severity:"success",tagClicked:"All"},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NOTIFICATION":return Object(r.a)(Object(r.a)({},e),{},{isNotificationOpen:!0,notificationMessage:t.message,severity:t.severity});case"CLOSE_NOTIFICATION":return"clickaway"===t.reason?Object(r.a)(Object(r.a)({},e),{},{isNotificationOpen:!0}):Object(r.a)(Object(r.a)({},e),{},{isNotificationOpen:!1});case"TAG_CLICKED":return Object(r.a)(Object(r.a)({},e),{},{tagClicked:t.tag});default:return e}},ft=Object(st.b)({auth:jt,notes:dt,ui:ht,firebase:le.firebaseReducer,firestore:ot.firestoreReducer}),xt=n(653);function pt(e){var t=e.children,n=Object(q.c)((function(e){return e.firebase.auth}));return Object(le.isLoaded)(n)?t:Object(ee.jsx)(ke.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(ee.jsx)(xt.a,{})})}var gt=[it.a.withExtraArgument({getFirebase:le.getFirebase,getFirestore:Y.S})],vt=Object(st.d)(ft,{},Object(st.c)(st.a.apply(void 0,gt))),mt={firebase:ut.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:vt.dispatch,createFirestoreInstance:ot.createFirestoreInstance};s.a.render(Object(ee.jsx)(c.a.StrictMode,{children:Object(ee.jsx)(q.a,{store:vt,children:Object(ee.jsx)(le.ReactReduxFirebaseProvider,Object(r.a)(Object(r.a)({},mt),{},{children:Object(ee.jsx)(pt,{children:Object(ee.jsx)(at,{})})}))})}),document.getElementById("root")),ct()}},[[541,1,2]]]);
//# sourceMappingURL=main.8311e196.chunk.js.map